echo "🏗️ Running type generation before commit..."

# Build contract types

echo "📝 Building contract types..."
bun run --cwd packages/contracts generate-types

# Generate subgraph types

echo "📊 Generating subgraph types..."
bun run --cwd packages/graph codegen

# Generate frontend and common types

echo "🔄 Running codegen for frontend and common packages..."
bun run codegen

# Generate database types

echo "🗃️ Generating database types..."
bun run db-types

# Run lint-staged (keep existing lint checks)

bun run lint-staged
